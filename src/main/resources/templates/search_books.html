<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Căutare Cărți</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>


<div class="navbar">
    <a href="/admin/dashboard">Dashboard</a>
    <a href="/admin/add-book">Adaugă Carte</a>
    <a href="/books/search">Caută Cărți</a>
    <a href="/admin/manage-books">Gestionare Cărți</a>
    <a href="/admin/validate-users">Validare Utilizatori</a>
    <a href="/admin/manage-users">Gestionare Utilizatori</a>
    <a href="/admin/assign-loan">Împrumută Carte</a>
    <a href="/admin/view-loans">Împrumuturi</a>
    <a href="/admin/active-loans">Împrumuturi active</a>
    <a href="/admin/logout">Delogare</a>
</div>

<h2>Caută o carte</h2>

<form id="searchForm" method="get">
    <label for="criteria">Criteriu de căutare:</label>
    <select id="criteria" name="criteria">
        <option value="/books/search/title">Titlu</option>
        <option value="/books/search/author">Autor</option>
        <option value="/books/search/category">Categorie</option>
        <option value="/books/search/publisher">Editură</option>
        <option value="/books/search/collection">Colecție</option>
        <option value="/books/search/year">An de apariție</option>
    </select>
    <br><br>

    <label for="keyword">Cuvânt cheie:</label>
    <input type="text" id="keyword" name="keyword" required>
    <br><br>

    <button type="submit">Caută</button>
</form>

<script>
    document.getElementById('searchForm').addEventListener('submit', function (e) {
        e.preventDefault();
        let criteria = document.getElementById('criteria').value;
        let keyword = document.getElementById('keyword').value;
        if (criteria.includes("year")) {
            window.location.href = criteria + "?year=" + keyword;
        } else {
            window.location.href = criteria + "?keyword=" + keyword;
        }
    });
</script>

</body>
</html>
